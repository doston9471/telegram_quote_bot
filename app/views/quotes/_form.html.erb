<%= form_with(model: quote, class: "space-y-6") do |form| %>
  <% if quote.errors.any? %>
    <div id="error_explanation" class="bg-red-500/20 border border-red-500/50 rounded-xl p-5">
      <h2 class="text-red-400 font-bold mb-3 text-lg">
        <span class="mr-2">‚ö†Ô∏è</span><%= pluralize(quote.errors.count, "error") %> found:
      </h2>
      <ul class="list-disc ml-6 space-y-2">
        <% quote.errors.each do |error| %>
          <li class="text-red-300"><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= form.label :text, "Quote Text", class: "block text-lg font-bold mb-3 text-purple-100" %>
    <%= form.rich_text_area :text, placeholder: "Enter your inspirational quote here (supports bold, italic, links, and image uploads)..." %>
    <p class="text-xs text-gray-400 mt-2">‚úì You can format text, add links, and upload images directly into the quote</p>
  </div>

  <div class="grid md:grid-cols-2 gap-6">
    <div>
      <%= form.label :author, "Author Name", class: "block text-lg font-bold mb-3 text-purple-100" %>
      <%= form.text_field :author, placeholder: "e.g., Steve Jobs", class: "w-full bg-purple-900/50 border-2 border-purple-700 rounded-xl px-4 py-3 text-white placeholder-gray-500 focus:border-purple-500 focus:ring-2 focus:ring-purple-600 focus:outline-none transition text-base" %>
    </div>

    <div>
      <%= form.label :category, "Category", class: "block text-lg font-bold mb-3 text-purple-100" %>
      <%= form.select :category, ['Motivation', 'Success', 'Wisdom', 'Courage', 'Friendship', 'Love'], { prompt: 'Select a category' }, class: "w-full bg-purple-900/50 border-2 border-purple-700 rounded-xl px-4 py-3 text-white focus:border-purple-500 focus:ring-2 focus:ring-purple-600 focus:outline-none transition text-base" %>
    </div>

    <div>
      <%= form.label :image, "Quote Image (Optional)", class: "block text-lg font-bold mb-3 text-purple-100" %>
      <%= form.file_field :image, accept: "image/png,image/gif,image/jpeg", class: "w-full bg-purple-900/50 border-2 border-purple-700 rounded-xl px-4 py-3 text-white focus:border-purple-500 focus:ring-2 focus:ring-purple-600 focus:outline-none transition text-base" %>
      
      <% if quote.image.present? %>
        <div class="mt-4 p-4 bg-purple-800/50 rounded-lg border border-purple-600/50">
          <div class="flex gap-4 items-start">
            <div class="flex-1">
              <p class="text-sm text-gray-300 mb-3">Current Image:</p>
              <%= image_tag quote.image, alt: "Current quote image", class: "w-full rounded-lg max-h-40 object-cover" %>
            </div>
            <div class="pt-1">
              <%= form.check_box :remove_image, { class: "w-5 h-5 rounded" } %>
              <%= form.label :remove_image, "Remove", class: "text-sm text-gray-300 ml-2 cursor-pointer" %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>

  <div class="border-t border-purple-700/30 pt-8 flex gap-4">
    <%= form.submit form.object.new_record? ? "‚ú® Create Quote" : "üíæ Update Quote", class: "px-8 py-3 bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-700 hover:to-emerald-600 rounded-lg font-bold transition duration-200 transform hover:scale-105 text-lg cursor-pointer border-0" %>
    <%= link_to "‚ùå Cancel", quotes_path, class: "px-8 py-3 bg-gradient-to-r from-gray-700 to-gray-600 hover:from-gray-800 hover:to-gray-700 rounded-lg font-bold transition duration-200 transform hover:scale-105" %>
  </div>
<% end %>
